<div th:fragment="content">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap" rel="stylesheet">

    <div id="biodata-preview"
         class="mx-auto bg-white relative shadow-2xl overflow-hidden"
         style="width: 1033px; height: 1540px; font-family: 'Noto Sans Devanagari', sans-serif; color: #333;"
         th:style="'background-image:url(' + @{${template.emptyTemplateLocation}} + '); background-size: 100% 100%; width: 1033px; height: 1540px; font-family: \'Noto Sans Devanagari\', sans-serif;'">

        <div th:if="${!isPaid}"
             style="position:absolute; inset:0; display:flex; justify-content:center; align-items:center;
             pointer-events:none; z-index:50;">
            <div style="font-size:100px; color:rgba(0,0,0,0.06); transform:rotate(-35deg); font-weight:900; letter-spacing: 5px;">
                Weddingbio.in
            </div>
        </div>

        <div class="absolute inset-0 px-28 pt-4 pb-20 flex flex-col items-center">

            <div class="text-center w-full mb-4">
                <div class="mb-2">
                    <img th:src="@{'/images/gods/' + ${data.godImage} + '.png'}" class="mx-auto h-52 w-auto object-contain"/>
                </div>

                <div class="flex flex-col items-center gap-4">
                    <h2 class="text-[28px] font-bold text-[#7a1f1f] leading-tight" th:text="${data.mantra}">॥ श्री गणेशाय नमः ॥</h2>
                    <h1 class="text-[40px] font-extrabold text-[#7a1f1f] border-b-4 border-[#7a1f1f] inline-block px-14 pb-2 leading-tight" th:text="#{preview.header}">
                        लग्नासाठी माहिती
                    </h1>
                </div>
            </div>

            <div class="w-full flex flex-row gap-10 mt-6">

                <div th:class="${data.profileImagePath != null and data.profileImagePath != ''} ? 'w-[70%] space-y-10' : 'w-full space-y-10'">

                    <section>
                        <h3 class="text-center font-bold text-[28px] mb-6 text-[#7a1f1f] underline underline-offset-8 decoration-2"
                            th:text="#{editor.section.personal}">वैयक्तिक माहिती</h3>

                        <div class="space-y-3 text-[23px] leading-relaxed">
                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.name}">नाव</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-bold text-black" th:text="${data.name}">वैभव बापूराव कल्याणकर</div>
                            </div>

                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.birthDate}">जन्म तारीख</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.birthDate}">18/09/1975</div>
                            </div>

                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.birthPlace}">जन्म स्थळ</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.birthPlace}"></div>
                            </div>

                            <div th:if="${data.religion != null and !#strings.isEmpty(#strings.trim(data.religion))}" class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.religion}">धर्म</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.religion}">हिंदू</div>
                            </div>

                            <div th:if="${data.caste != null and !#strings.isEmpty(#strings.trim(data.caste))}" class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.caste}">जात</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.caste}">कुंभार</div>
                            </div>

                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.education}">शिक्षण</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.education}"></div>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-center font-bold text-[28px] mb-6 text-[#7a1f1f] underline underline-offset-8 decoration-2"
                            th:text="#{editor.section.family}">कौटुंबिक माहिती</h3>

                        <div class="space-y-3 text-[23px] leading-relaxed">
                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.fatherName}">वडिलांचे नाव</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.fatherName}"></div>
                            </div>

                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.motherName}">आईचे नाव</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.motherName}"></div>
                            </div>

                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.brothers}">भाऊ</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.brothers}"></div>
                            </div>

                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.sisters}">बहीण</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.sisters}"></div>
                            </div>
                            
                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.relatives}">नातेवाईक</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-semibold text-[#222]" th:text="${data.relatives}"></div>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h3 class="text-center font-bold text-[28px] mb-6 text-[#7a1f1f] underline underline-offset-8 decoration-2"
                            th:text="#{editor.section.contact}">संपर्क माहिती</h3>

                        <div class="space-y-3 text-[23px] leading-relaxed">
                            <div class="grid grid-cols-12 items-baseline">
                                <div class="col-span-4 font-semibold text-[#555]" th:text="#{editor.form.mobile}">मोबाईल नंबर</div>
                                <div class="col-span-1 text-center font-bold text-[#333]">:</div>
                                <div class="col-span-7 font-bold text-black" th:text="${isPaid} ? ${data.mobile} : ''"></div>
                            </div>
                        </div>
                    </section>

                </div>

                <div class="w-[30%] flex justify-start pt-20"
                     th:if="${data.profileImagePath != null and data.profileImagePath != ''}">
                    <div class="w-56 h-72 border-[8px] border-white shadow-2xl overflow-hidden rounded-sm ring-1 ring-gray-100">
                        <img th:src="@{'/generated/' + ${data.profileImagePath}}" class="object-cover w-full h-full"/>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <style>
        #biodata-preview {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Tightens text rendering to prevent overlapping issues with different fonts */
        .leading-tight {
            line-height: 1.25 !important;
        }
    </style>

</div>